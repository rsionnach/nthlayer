{
  "dashboard": {
    "annotations": {},
    "description": "Auto-generated dashboard for payment-api service",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "panels": [
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 0,
        "panels": [],
        "title": "SLO Metrics",
        "type": "row"
      },
      {
        "description": "Target: 99.9%",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 1
        },
        "options": null,
        "repeatDirection": "h",
        "targets": [
          {
            "expr": "sum(rate(http_requests_total{service=\"payment-api\",status=~\"[1234]..\"}[5m]))\n/\nsum(rate(http_requests_total{service=\"payment-api\"}[5m]))\n",
            "legendFormat": "availability",
            "refId": "A"
          }
        ],
        "title": "availability",
        "transformations": [],
        "transparent": false,
        "type": "timeseries"
      },
      {
        "description": "Target: 99.0%",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 1
        },
        "options": null,
        "repeatDirection": "h",
        "targets": [
          {
            "expr": "histogram_quantile(0.95,\n  sum(rate(http_request_duration_seconds_bucket{service=\"payment-api\"}[5m])) by (le)\n)\n",
            "legendFormat": "latency-p95",
            "refId": "A"
          }
        ],
        "title": "latency-p95",
        "transformations": [],
        "transparent": false,
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 10
        },
        "id": 0,
        "panels": [],
        "title": "Service Health",
        "type": "row"
      },
      {
        "description": "Total requests per second",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 11
        },
        "options": null,
        "repeatDirection": "h",
        "targets": [
          {
            "expr": "sum(rate(http_requests_total{service=\"payment-api\"}[5m]))",
            "legendFormat": "{{http}}",
            "refId": "A"
          }
        ],
        "title": "Request Rate",
        "transformations": [],
        "transparent": false,
        "type": "timeseries"
      },
      {
        "description": "Percentage of requests returning 5xx errors",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 11
        },
        "options": null,
        "repeatDirection": "h",
        "targets": [
          {
            "expr": "sum(rate(http_requests_total{service=\"payment-api\",status=~\"5..\"}[5m])) / sum(rate(http_requests_total{service=\"payment-api\"}[5m])) * 100",
            "legendFormat": "error %",
            "refId": "A"
          }
        ],
        "title": "Error Rate",
        "transformations": [],
        "transparent": false,
        "type": "timeseries"
      },
      {
        "description": "95th percentile request duration",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 20
        },
        "options": null,
        "repeatDirection": "h",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, sum by (le) (rate(http_request_duration_seconds_bucket{service=\"payment-api\"}[5m])))",
            "legendFormat": "{{http}}",
            "refId": "A"
          }
        ],
        "title": "Request Latency (p95)",
        "transformations": [],
        "transparent": false,
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 29
        },
        "id": 0,
        "panels": [],
        "title": "Dependencies",
        "type": "row"
      },
      {
        "description": "### PostgreSQL Connections - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.connections`: No metric found for postgresql.connections. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n- `postgresql.max_connections`: No metric found for postgresql.max_connections. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.connections: your_custom_metric\n  postgresql.max_connections: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 30
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "PostgreSQL Connections",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Active Queries - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.active_queries`: No metric found for postgresql.active_queries. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.active_queries: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 30
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Active Queries",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Cache Hit Ratio - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.cache_hit`: No metric found for postgresql.cache_hit. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.cache_hit: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 39
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Cache Hit Ratio",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Transaction Rate - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.transactions_committed`: No metric found for postgresql.transactions_committed. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n- `postgresql.transactions_rolled_back`: No metric found for postgresql.transactions_rolled_back. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.transactions_committed: your_custom_metric\n  postgresql.transactions_rolled_back: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 39
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Transaction Rate",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Database Size - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.database_size`: No metric found for postgresql.database_size. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.database_size: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 48
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Database Size",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Deadlocks - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.deadlocks`: No metric found for postgresql.deadlocks. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.deadlocks: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 48
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Deadlocks",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Table Bloat (Dead Tuples) - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.table_bloat`: No metric found for postgresql.table_bloat. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.table_bloat: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 57
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Table Bloat (Dead Tuples)",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Connection Pool Utilization - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `postgresql.connections`: No metric found for postgresql.connections. Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n\n**To enable, install exporter:**\n```\nhelm install postgres-exporter prometheus-community/prometheus-postgres-exporter\n```\n\n[Documentation](https://github.com/prometheus-community/postgres_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  postgresql.connections: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install postgres_exporter: helm install postgres-exporter prometheus-community/prometheus-postgres-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 57
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Connection Pool Utilization",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Redis Memory Usage - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.memory`: No metric found for redis.memory. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.memory: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 66
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Redis Memory Usage",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Cache Hit Rate - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.hits`: No metric found for redis.hits. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.hits: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 66
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Cache Hit Rate",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Connected Clients - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.connections`: No metric found for redis.connections. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.connections: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 75
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Connected Clients",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Cache Hits vs Misses - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.hits`: No metric found for redis.hits. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n- `redis.misses`: No metric found for redis.misses. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.hits: your_custom_metric\n  redis.misses: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 75
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Cache Hits vs Misses",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Evicted Keys - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.evicted_keys`: No metric found for redis.evicted_keys. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.evicted_keys: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 84
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Evicted Keys",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Expired Keys - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.expired_keys`: No metric found for redis.expired_keys. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.expired_keys: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 84
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Expired Keys",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Commands/sec - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.commands`: No metric found for redis.commands. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.commands: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 93
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Commands/sec",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      },
      {
        "description": "### Total Keys - Needs Instrumentation\n\nThis panel requires metrics that aren't currently being collected.\n\n**Missing metrics:**\n- `redis.keys`: No metric found for redis.keys. Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter\n\n**To enable, install exporter:**\n```\nhelm install redis-exporter prometheus-community/prometheus-redis-exporter\n```\n\n[Documentation](https://github.com/oliver006/redis_exporter)\n\n**Or add custom metric in service YAML:**\n```yaml\nmetrics:\n  redis.keys: your_custom_metric\n```",
        "fieldConfig": {
          "defaults": {
            "noValue": "Install redis_exporter: helm install redis-exporter prometheus-community/prometheus-redis-exporter"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 93
        },
        "options": {
          "colorMode": "background",
          "graphMode": "none"
        },
        "repeatDirection": "h",
        "title": "Total Keys",
        "transformations": [],
        "transparent": false,
        "type": "stat"
      }
    ],
    "schemaVersion": 36,
    "style": "dark",
    "tags": [
      "payments-team",
      "critical",
      "api"
    ],
    "templating": {},
    "time": {
      "from": "now-6h",
      "to": "now"
    },
    "timezone": "browser",
    "title": "payment-api - Service Dashboard",
    "uid": "payment-api-overview"
  },
  "message": "Auto-generated dashboard for payment-api",
  "overwrite": true
}

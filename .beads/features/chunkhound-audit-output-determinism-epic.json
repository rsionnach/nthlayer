{
  "id": "chunkhound-audit-output-determinism-epic",
  "type": "epic",
  "title": "[ChunkHound Audit] Output Determinism Epic",
  "description": "Ensure reproducible, deterministic output from plan/apply and generation.\n\n**Source:** docs/audits/chunkhound/runs/2026-01-02/06-determinism.md\n\n**Key Findings:**\n1. JSON serialization without sort_keys=True in orchestrator.py:615-621\n2. Placeholder alert generators return hardcoded estimated counts (not actual counts)\n3. Recording rules use magic constant (* 7) without verification\n4. Plan vs apply count mismatch - plan returns estimates, apply returns different values\n5. Dashboard panel ordering non-deterministic\n6. Environment variable handling inconsistent when env=None\n7. Template variable ordering non-deterministic (18+ technology templates)\n\n**Proposed Solution:**\n1. Add sort_keys=True to ALL json.dump() calls\n2. Implement actual alert/recording rule generators (replace placeholders)\n3. Enforce deterministic list/dict ordering before serialization\n4. Normalize dashboard panel ordering by grid position\n5. Add comprehensive reproducibility test suite\n\n**Test Strategy:**\n- test_generation_idempotent(): Same YAML generates identical files twice\n- test_no_ordering_artifacts(): Reordered resources produce identical output\n- test_plan_apply_counts_match(): Plan and apply report same counts",
  "status": "open",
  "priority": "P1",
  "tags": [],
  "created_at": "2026-01-03T21:00:00Z",
  "updated_at": "2026-01-03T21:00:00Z",
  "legacy_id": "trellis-audit-determinism",
  "comments": [
    {
      "author": "chunkhound-audit",
      "text": "Source: 06-determinism.md - Dashboard/Alert Generation Reproducibility",
      "date": "2026-01-03T21:23:27Z"
    }
  ]
}
